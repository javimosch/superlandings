<header class="bg-blue-600 text-white shadow-lg">
  <div class="w-full px-3 sm:px-4 py-4 sm:py-6">
    <!-- Mobile Menu Toggle -->
    <div class="flex items-center justify-between mb-4 sm:mb-0">
      <div class="flex-1 min-w-0">
        <h1 class="text-xl sm:text-3xl font-bold truncate">SuperLandings</h1>
        <p class="text-blue-100 mt-1 text-xs sm:text-sm hidden sm:block">High-converting landing and waiting-list pages, built in seconds</p>
      </div>
      <button @click="showMobileMenu = !showMobileMenu" class="sm:hidden ml-2 p-2 hover:bg-blue-500 rounded">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </div>

    <!-- Desktop Navigation -->
    <div class="hidden sm:flex items-center justify-end gap-2 lg:gap-4 flex-wrap">
      <!-- Current User -->
      <div class="flex items-center gap-2">
        <span class="text-blue-200 text-xs lg:text-sm">Logged as:</span>
        <span class="px-2 sm:px-3 py-1 bg-green-500 rounded-lg text-xs sm:text-sm font-medium truncate max-w-[120px]">
          {{ authInfo.isAdmin ? 'admin' : (authInfo.user?.email || 'unknown') }}
        </span>
      </div>

      <!-- Current Organization -->
      <div v-if="currentOrganization" class="flex items-center gap-2">
        <span class="text-blue-200 text-xs lg:text-sm">Org:</span>
        <span class="px-2 sm:px-3 py-1 bg-blue-500 rounded-lg text-xs sm:text-sm font-medium truncate max-w-[120px]">{{ currentOrganization.name }}</span>
        <!-- Organization Switcher -->
        <div v-if="organizations.length > 1 || authInfo.isAdmin" class="relative">
          <button @click="showOrgSwitcher = !showOrgSwitcher" class="px-2 py-1 bg-blue-400 hover:bg-blue-300 rounded text-xs">
            â‡„
          </button>
          <div v-if="showOrgSwitcher" class="absolute right-0 mt-1 w-40 sm:w-48 bg-white rounded-lg shadow-lg z-50 text-gray-800">
            <div class="p-2 border-b text-xs text-gray-500 font-medium">Select Organization</div>
            <button v-for="org in organizations" :key="org.id" @click="switchOrganization(org)" 
              :class="['w-full text-left px-3 py-2 hover:bg-gray-100 text-xs sm:text-sm truncate', currentOrganization?.id === org.id ? 'bg-blue-50 text-blue-600' : '']">
              {{ org.name }}
            </button>
          </div>
        </div>
      </div>

      <!-- Admin Controls -->
      <template v-if="authInfo.isAdmin">
        <button @click="showOrganizationsModal = true" class="px-2 sm:px-4 py-1 sm:py-2 bg-blue-500 hover:bg-blue-400 rounded-lg transition text-xs sm:text-sm font-medium whitespace-nowrap">
          ğŸ¢
        </button>
        <button @click="showAdminDomainsModal = true" class="px-2 sm:px-4 py-1 sm:py-2 bg-blue-500 hover:bg-blue-400 rounded-lg transition text-xs sm:text-sm font-medium whitespace-nowrap">
          âš™ï¸
        </button>
      </template>
      
      <!-- Logout Button -->
      <button @click="logout" class="px-2 sm:px-4 py-1 sm:py-2 bg-red-500 hover:bg-red-400 rounded-lg transition text-xs sm:text-sm font-medium whitespace-nowrap">
        ğŸšª
      </button>
    </div>

    <!-- Mobile Navigation Menu -->
    <div v-if="showMobileMenu" class="sm:hidden mt-4 space-y-2 border-t border-blue-500 pt-4">
      <!-- Current User -->
      <div class="flex items-center gap-2 text-xs">
        <span class="text-blue-200">Logged as:</span>
        <span class="px-2 py-1 bg-green-500 rounded text-xs font-medium truncate">
          {{ authInfo.isAdmin ? 'admin' : (authInfo.user?.email || 'unknown') }}
        </span>
      </div>

      <!-- Current Organization -->
      <div v-if="currentOrganization" class="flex items-center gap-2 text-xs">
        <span class="text-blue-200">Org:</span>
        <span class="px-2 py-1 bg-blue-500 rounded text-xs font-medium truncate">{{ currentOrganization.name }}</span>
      </div>

      <!-- Organization Switcher Mobile -->
      <div v-if="currentOrganization && (organizations.length > 1 || authInfo.isAdmin)" class="space-y-1">
        <button v-for="org in organizations" :key="org.id" @click="switchOrganization(org); showMobileMenu = false" 
          :class="['w-full text-left px-3 py-2 rounded text-xs', currentOrganization?.id === org.id ? 'bg-blue-500 text-white' : 'bg-blue-500 hover:bg-blue-400']">
          {{ org.name }}
        </button>
      </div>

      <!-- Admin Controls Mobile -->
      <div v-if="authInfo.isAdmin" class="flex gap-2 pt-2">
        <button @click="showOrganizationsModal = true; showMobileMenu = false" class="flex-1 px-3 py-2 bg-blue-500 hover:bg-blue-400 rounded text-xs font-medium">
          ğŸ¢ Organizations
        </button>
        <button @click="showAdminDomainsModal = true; showMobileMenu = false" class="flex-1 px-3 py-2 bg-blue-500 hover:bg-blue-400 rounded text-xs font-medium">
          âš™ï¸ Admin
        </button>
      </div>
      
      <!-- Logout Button Mobile -->
      <button @click="logout" class="w-full px-3 py-2 bg-red-500 hover:bg-red-400 rounded text-xs font-medium">
        ğŸšª Logout
      </button>
    </div>
  </div>
</header>
